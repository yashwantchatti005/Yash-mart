<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Yashmart | Registration</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
  body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background-image: url('c15.avif');
    background-repeat: no-repeat;
    background-position: center;
    background-attachment: fixed;
    background-size: cover;
    padding: 15px;
  }

  form {
    border: 2px solid black;
    padding: 40px 30px;
    border-radius: 20px;
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(10px);
    width: 100%;
    max-width: 400px;
    color: #fff;
    transition: all 0.3s ease-in-out;
    position: relative;
  }

  form:hover {
    box-shadow: 4px 4px 15px rgba(0,0,0,0.4);
  }

  label {
    font-weight: 600;
    margin-top: 15px;
  }

  input {
    width: 100%;
    padding: 10px;
    border: 1px solid #cd0e0e;
    border-radius: 5px;
    margin-top: 5px;
    transition: 0.3s;
  }

  input:focus {
    background: linear-gradient(90deg, rgba(100,247,250,0.2), rgba(255,239,207,0.2));
    color: white;
    outline: none;
    box-shadow: 0 0 8px #0d6efd;
  }

  h3 {
    color: white;
    text-align: center;
    margin-bottom: 25px;
    font-weight: 700;
  }

  button {
    margin-top: 25px;
    width: 100%;
    padding: 10px;
    border: none;
    border-radius: 8px;
    background-color: #0d6efd;
    color: white;
    font-size: 16px;
    font-weight: 600;
    transition: 0.3s;
  }

  button:hover {
    background-color: #0b5ed7;
    box-shadow: 3px 3px 10px rgba(0,0,0,0.2);
  }

  p {
    text-align: center;
    color: #fff;
    margin-top: 15px;
  }

  a {
    color: #ffdf5d;
    text-decoration: none;
    font-weight: 600;
  }

  a:hover {
    text-decoration: underline;
  }

  .toggle-password {
    position: absolute;
    right: 15px;
    top: 145px;
    cursor: pointer;
    font-size: 0.9rem;
    color: #fff;
  }

  .strength {
    margin-top: 5px;
    font-size: 0.9rem;
    font-weight: 600;
  }

  .strength.weak { color: red; }
  .strength.medium { color: orange; }
  .strength.strong { color: lightgreen; }

  .message {
    margin-top: 10px;
    font-weight: 600;
  }

  /* Responsive Design */
  @media (max-width: 576px) {
    form {
      padding: 30px 20px;
    }

    h3 {
      font-size: 20px;
    }

    button {
      font-size: 15px;
    }

    .toggle-password {
      top: 135px;
    }
  }
</style>
</head>
<body>
<div class="container">
  <form id="registrationForm" novalidate>
    <h3>YASHMART - REGISTRATION</h3>

    <div class="mb-2">
      <label for="username">Username:</label>
      <input type="text" id="username" name="username" placeholder="Enter username" required>
      <div class="message" id="usernameMsg"></div>
    </div>

    <div class="mb-2">
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" placeholder="Enter email" required>
      <div class="message" id="emailMsg"></div>
    </div>

    <div class="mb-2 position-relative">
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" placeholder="Enter password" required>
      <span class="toggle-password" id="togglePassword">Show</span>
      <div class="strength" id="passwordStrength"></div>
    </div>

    <div class="mb-2">
      <label for="confirm-password">Confirm Password:</label>
      <input type="password" id="confirm-password" name="confirm-password" placeholder="Re-enter password" required>
      <div class="message" id="confirmMsg"></div>
    </div>

    <button type="submit" class="btn">Register</button>

    <p class="mt-2">
      Already a user? <a href="register.html">Login</a>
    </p>
  </form>
</div>

<script>
  const form = document.getElementById('registrationForm');
  const username = document.getElementById('username');
  const email = document.getElementById('email');
  const password = document.getElementById('password');
  const confirmPassword = document.getElementById('confirm-password');
  const togglePassword = document.getElementById('togglePassword');
  const passwordStrength = document.getElementById('passwordStrength');
  const usernameMsg = document.getElementById('usernameMsg');
  const emailMsg = document.getElementById('emailMsg');
  const confirmMsg = document.getElementById('confirmMsg');

  // Show/Hide password
  togglePassword.addEventListener('click', () => {
    const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
    password.setAttribute('type', type);
    togglePassword.textContent = type === 'password' ? 'Show' : 'Hide';
  });

  // Password strength indicator
  password.addEventListener('input', () => {
    const val = password.value;
    if(val.length < 6) {
      passwordStrength.textContent = 'Weak';
      passwordStrength.className = 'strength weak';
    } else if(val.length < 10) {
      passwordStrength.textContent = 'Medium';
      passwordStrength.className = 'strength medium';
    } else {
      passwordStrength.textContent = 'Strong';
      passwordStrength.className = 'strength strong';
    }
  });

  // Real-time validation
  username.addEventListener('input', () => {
    usernameMsg.textContent = username.value.length < 3 ? 'Username too short' : '';
  });

  email.addEventListener('input', () => {
    const pattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
    emailMsg.textContent = !email.value.match(pattern) ? 'Invalid email' : '';
  });

  confirmPassword.addEventListener('input', () => {
    confirmMsg.textContent = confirmPassword.value !== password.value ? 'Passwords do not match' : '';
  });

  // Form submission
  form.addEventListener('submit', (e) => {
    e.preventDefault();

    if(username.value.length < 3 || !email.value.match(/^[^ ]+@[^ ]+\.[a-z]{2,3}$/) || password.value.length < 6 || password.value !== confirmPassword.value) {
      alert('Please fix errors before submitting!');
      return;
    }

    // Optionally, save the user data to localStorage (optional)
    const user = {
      username: username.value,
      email: email.value,
      password: password.value
    };
    localStorage.setItem('user', JSON.stringify(user));

    // Redirect to website page
    window.location.href = 'webpage1.html';
  });
</script>

</body>
</html>
